/**
 * LAYOUT
 */

$overlap: 8.6rem;

.container
{
	// display: inline-block;
	// margin: 17.5rem 0;

	&__inner
	{
		// FROM PSD
		// $margin-left: 266px;
		// $width: 800px;
		
		// width: percentage($width/$container-width);
		max-width: $container-width;
		margin: 0 auto;

		&.is-overlap
		{

			
			// padding: $overlap 0 0 0;
			// margin: - $overlap percentage($margin-left/$width) $overlap;
			// width: (100 - (percentage($margin-left * 2 /$width)));
		}
	}

	&.has-overlap
	{
		margin-top: 17.5 + $overlap;
	}

	&__table
	{
		display: table;
		table-layout: fixed;

		&__cell
		{
			display: table-cell;
			width: percentage(3/100);
			padding: 8rem 2rem 7rem 2rem;

			&__text
			{
				margin: 5rem 0 7rem 0;
				font:
				{
					size: 1.7rem;
				}
				line-height: 28/17;
			}

			&__img
			{
				margin: 0;
				
				.icon__table
				{
					height: 6.2rem;
					width: 9.4rem;
					fill: map-get($colors, white);
				}
			}
		}
	}
}


// SECTION TITLE
.section-title
{
 	position: relative;
 	margin-bottom: (9/strip-unit(map-get($font-size-title, h2))) * 1em;
 	padding: (20/60) * 1em 0;
	
	&::before
	{
		display: block;
		position: absolute;
		bottom: 0;
		right: 100%;
		height: 5.5rem;
		color: currentColor;
    	content: counter(section-title, decimal-leading-zero);
		counter-increment: section-title;
		font:
		{
			family: $font-watermark-family;
			size: 5.5rem;
		}
		line-height: 1;
		opacity: 0.2;
		transform: rotate(-90deg);
	}

 	&::after
 	{
 		display:block;
		position: absolute;
		bottom: -0.6rem;
		height: 0.6rem;
		width: 9rem;
		background-color: currentColor;
		border-radius: 0.3rem;
		content: '';
 	}

 	&.your-need
	{
		margin-bottom: 20rem;
	}   
}

.site-content
{
	height: 100%;
}

.site-section
{
	max-width: $container-width;
	margin-right: auto; 
	margin-left: auto;
}

// BACKGROUND COLUMN
.site-background
{
	margin: 0 auto;
	position: fixed;
    left: 0;
    right: 0;
    top: 0;
    height: 100%;
    width: 100%;
    max-width: $container-width;
    // Ensure that it always be behind the content
    z-index: -100;

	&__inner
	{
		height: 100%;
	}

	&__column
	{
		$border-column: 1px solid rgba(map-get($colors, black), 0.1);

		height: 0;
		border-right: $border-column;
    	transition: height .6s linear;
    	


		&:first-child
		{
			border-left: $border-column;
		}
		
		// When DOM is ready
		@at-root
		{
			.is-ready &
			{
				height: 100%;
			}
		}
	}

}

// INFORMATIONS
.informations-article
{
	display: inline-block;
	margin-bottom: 15rem;
}

.screen
{
	position: relative;

	&__wrapper
	{
		&__list
		{
			margin: 7.5rem 0;

		}
	}

	&__slide
	{
		display: none;

		&--is-current
		{
			display: block;
		}
	}

	&__img
	{
		padding-top: 3.2rem;
		@extend %box-shadow;
		max-width: 100%;
	}

	&__bar
	{
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		@include size(100%, 3.2rem);
		border-bottom: 1px solid rgba( map-get($colors, cyan-moderate), 0.1);
		border-top-left-radius: 3px;
		border-top-right-radius: 3px;

		&__button
		{
			position: absolute;
			top: 50%;
			display: block;
			@include size(8px);
			background-color: map-get($colors, white);
			border-radius: 4px;
			transform: translate(0, -50%);

			@for $i from 1 through 3 {
		      	&:nth-child(#{$i}) 
		      	{ 

		       		left: $i * 10px; 

		      	}	
		    }

		}
	}
    &__list{

    	&__item{

			font:
			{
				size: 1.8rem;
			}
			line-height: (35/18);

			&__button
			{
				@extend %button-reset;
				color: map-get($colors, gray);
				text-align: left;

	    		&--is-current
	    		{
	    			color: map-get($colors, black);
	    		}
	    	}
    	}
    }

    &__nav
    {
    	margin: 3rem 0;
    	text-align: center;

    	&__item
    	{
    		display: inline-block;
    		@include size(18px);
    		@extend %button-reset;
    		background-color: map-get($colors, gray);
    		border-radius: 9px;
    		vertical-align: middle;

    		&--is-current
    		{
    			background-color: map-get($colors, black);
    		}
    	}
    }
}

.testimonials
{
	&__slide
	{	
		&__wrapper
		{
			&__inner
			{
				padding: 8rem 7rem;
				// margin-right: percentage(130/1000);
			}
		}

	}

	&__list
	{
		&__item
		{
			// padding-left: 2.2rem;
			// From PSD: margin is 100px, parent width is 600px
			// margin-left: percentage(100/600);

			&__button
			{
				@extend %button-reset;
				color: map-get($colors, cyan-slightly-desaturated);
				font:
				{
					size: 1.8rem;
				}
				text-align: left;

				&--is-current
				{
					position: relative;
					color: map-get($colors, white);

					&::before
					{
						position: absolute;
						right: 100%;
						bottom: 0;
						top: 0;
						margin: 0 auto;
						height: 1px;
						width: 200%;
						background: 
						{
							color: map-get($colors, white);
						}
						content:'';
						transform: translate(-2.2rem, -50%);
					}
				}
			}
		}
	}
}